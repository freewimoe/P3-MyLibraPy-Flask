<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MyLibraPy Web</title>
</head>
<body>
  <h1>ğŸ“š MyLibraPy â€“ Your Book Collection</h1>

  <form method="POST">
    <input name="title" placeholder="Title" required>
    <input name="author" placeholder="Author" required>
    <button type="submit">Add</button>
  </form>

  <h2>Book List</h2>
  <button onclick="toggleBooks()">ğŸ“š Show / Hide Book List</button>

  <div id="book-list" style="display: none; margin-top: 1em;">
    {% if books %}
      <ul>
        {% for book in books %}
          <li>
            <strong>{{ book.title }}</strong> by {{ book.author }}
            {% if book.genre %} â€“ {{ book.genre }}{% endif %}
            {% if book.status %} ({{ book.status }}){% endif %}
            <a href="{{ url_for('edit', book_id=loop.index0) }}">âœï¸ Edit</a>
            <a href="{{ url_for('delete', book_id=loop.index0) }}">ğŸ—‘ï¸ Delete</a>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No books in your library yet.</p>
    {% endif %}
  </div>

  <form method="GET" action="/export" style="margin-top: 1em;">
    <button type="submit">ğŸ“¤ Export as CSV</button>
  </form>

  <script>
    function toggleBooks() {
      const list = document.getElementById("book-list");
      list.style.display = list.style.display === "none" ? "block" : "none";
    }
  </script>
</body>
</html>
